webpack -c ./webpack.js
WEBPACK_RESULT=$?

if [ $WEBPACK_RESULT$ -ne 0 ]; then
  echo "webpack -c /webpack.js failed with exit code $WEBPACK_RESULT. Push aborted."
  exit 1
fi

npm run typecheck
TYPECHECK_RESULT=$?

if [ $TYPECHECK_RESULT -ne 0 ]; then
  echo "npm run typecheck failed with exit code $TYPECHECK_RESULT. Push aborted."
  exit 1
fi

npm run test
TEST_RESULT=$?

if [ $TEST_RESULT -ne 0 ]; then
  echo "npm run test failed with exit code $TEST_RESULT. Push aborted."
  exit 1
fi

echo "Pre-push checks passed. Proceeding with push."
exit 0

